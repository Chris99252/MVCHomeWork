@using MVCHomeWork02.Models;

@model MVCHomeWork02.Models.客戶資料

@{
    ViewBag.Title = "Details";
    var bankList = ViewData.ContainsKey("BankList") ? ViewData["BankList"] as  IEnumerable<客戶銀行資訊> : new List<客戶銀行資訊>();
    var contactList = ViewData.ContainsKey("ContactList") ? ViewData["ContactList"] as IEnumerable<客戶聯絡人> : new List<客戶聯絡人>();
}

<h2>Details</h2>

<div>
    <h4>客戶資料</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.客戶名稱)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.客戶名稱)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.統一編號)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.統一編號)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.電話)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.電話)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.傳真)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.傳真)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.地址)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.地址)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

    </dl>
</div>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(a => bankList.FirstOrDefault().銀行名稱)
        </th>
        <th>
            @Html.DisplayNameFor(a => bankList.FirstOrDefault().銀行代碼)
        </th>
        <th>
            @Html.DisplayNameFor(a => bankList.FirstOrDefault().分行代碼)
        </th>
        <th>
            @Html.DisplayNameFor(a => bankList.FirstOrDefault().帳戶名稱)
        </th>
        <th>
            @Html.DisplayNameFor(a => bankList.FirstOrDefault().帳戶號碼)
        </th>
        <th></th>
    </tr>

    @foreach (var item in bankList)
    {
        using (Html.BeginForm("DeleteBank", "Client", FormMethod.Post))
        {

            @Html.AntiForgeryToken()
            @Html.HiddenFor(modeItem => item.Id)
            @Html.HiddenFor(modeItem => item.客戶Id)
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.銀行名稱)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.銀行代碼)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.分行代碼)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.帳戶名稱)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.帳戶號碼)
                </td>
                <td>
                    <input type="submit" value="Delete Bank" class="btn btn-danger"/>  
                </td>
            </tr>
        }
    }
</table>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(a => contactList.FirstOrDefault().職稱)
        </th>
        <th>
            @Html.DisplayNameFor(a => contactList.FirstOrDefault().姓名)
        </th>
        <th>
            @Html.DisplayNameFor(a => contactList.FirstOrDefault().Email)
        </th>
        <th>
            @Html.DisplayNameFor(a => contactList.FirstOrDefault().手機)
        </th>
        <th>
            @Html.DisplayNameFor(a => contactList.FirstOrDefault().電話)
        </th>
        <th></th>
    </tr>

    @foreach (var item in contactList)
    {
        using (Html.BeginForm("DeleteContact", "Client", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(modeItem => item.Id)
            @Html.HiddenFor(modeItem => item.客戶Id)

            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.職稱)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.姓名)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.手機)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.電話)
                </td>
                <td>
                    <input type="submit" value="Delete Contact" class="btn btn-danger" />
                </td>
            </tr>
        }
    }

</table>



<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
